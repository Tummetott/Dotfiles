# vim: set ft=bash:

if ! (has btm || has bottom); then
    {{ if eq .osid "darwin" }}
    info 'Installing bottom'
    log brew update
    log brew install bottom

    {{ else if or
        (eq .osid "ubuntu")
        (eq .osid "pop")
        (eq .osid "pi")
        (eq .osid "kali") }}
    if ! has snap; then
        {{ template "bootstrap/snap.tmpl" . }}
    fi

    info 'Installing bottom'
    log sudo snap install bottom
    log sudo snap connect bottom:mount-observe
    log sudo snap connect bottom:hardware-observe
    log sudo snap connect bottom:system-observe
    log sudo snap connect bottom:process-control

    {{ else }}
    error 'No installation instructions found for: bottom'
    exit 1
    {{ end }}

fi
